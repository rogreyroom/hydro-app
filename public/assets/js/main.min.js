"use strict";"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("serviceworker.js").then(function(e){console.log("ServiceWorker registration successful with scope: ",e.scope)},function(e){console.log("ServiceWorker registration failed: ",e)})});var counter,addGlass=document.querySelector(".interactions__btn-add--js"),removeGlass=document.querySelector(".interactions__btn-remove--js"),theGlass=document.querySelector(".water-glass__counter--js"),chartOnOff=document.querySelector(".chart__btn--js"),chartCanvas=document.querySelector("#myChart"),waveD=document.querySelector(".wave-down--js"),waveU=document.querySelector(".wave-up--js"),key="hydro-".concat((new Date).toISOString().slice(0,10)),myStorage=function(){var e=localStorage.getItem(key);return null!==e?theGlass.innerHTML=e:(localStorage.setItem(key,0),theGlass.innerHTML=0)},addToGlass=function(){counter++,localStorage.setItem(key,counter),theGlass.innerHTML=counter,waveD.classList.toggle("wave-down--animation"),waveU.classList.toggle("wave-up--animation"),generateChart()},removeFromGlass=function(){--counter<0&&(counter=0),localStorage.setItem(key,counter),theGlass.innerHTML=counter,waveD.classList.toggle("wave-down--animation"),waveU.classList.toggle("wave-up--animation"),generateChart()};addGlass.addEventListener("click",addToGlass),removeGlass.addEventListener("click",removeFromGlass),counter=myStorage();
"use strict";var counter,addGlass=document.querySelector(".interactions__btn-add--js"),removeGlass=document.querySelector(".interactions__btn-remove--js"),theGlass=document.querySelector(".water-glass__counter--js"),chartOnOff=document.querySelector(".chart__btn--js"),chartCanvas=document.querySelector("#myChart"),waveD=document.querySelector(".wave-down--js"),waveU=document.querySelector(".wave-up--js"),key="hydro-".concat((new Date).toISOString().slice(0,10)),myStorage=function(){var e=localStorage.getItem(key);return null!==e?theGlass.innerHTML=e:(localStorage.setItem(key,0),theGlass.innerHTML=0)},addToGlass=function(){counter++,localStorage.setItem(key,counter),theGlass.innerHTML=counter,waveD.classList.toggle("wave-down--animation"),waveU.classList.toggle("wave-up--animation"),generateChart()},removeFromGlass=function(){--counter<0&&(counter=0),localStorage.setItem(key,counter),theGlass.innerHTML=counter,waveD.classList.toggle("wave-down--animation"),waveU.classList.toggle("wave-up--animation"),generateChart()},showChart=function(){generateChart(),chartCanvas.classList.toggle("chart__canvas--active")};addGlass.addEventListener("click",addToGlass),removeGlass.addEventListener("click",removeFromGlass),chartOnOff.addEventListener("click",showChart),counter=myStorage();var feedLocalStorage=function(){for(var e=[["hydro-2019-07-01",5],["hydro-2019-07-02",3],["hydro-2019-07-03",8],["hydro-2019-07-04",2],["hydro-2019-07-05",7],["hydro-2019-07-06",4],["hydro-2019-07-07",1],["hydro-2019-07-08",5],["hydro-2019-07-09",3],["hydro-2019-07-10",8],["hydro-2019-07-11",2],["hydro-2019-07-12",7],["hydro-2019-07-13",4],["hydro-2019-07-14",1],["hydro-2019-07-15",5],["hydro-2019-07-16",3],["hydro-2019-07-17",8],["hydro-2019-07-18",2],["hydro-2019-07-19",7],["hydro-2019-07-20",4],["hydro-2019-07-21",1]],t=0;t<e.length;t++)localStorage.setItem(e[t][0],e[t][1])},chartX=[],chartY=[],yearWeek=moment().isoWeek(),getData=function(){var e,t,a,r,o=[];if(chartX.length=0,chartY.length=0,null!==localStorage.length){for(var n=0;n<=localStorage.length-1;n++)e=localStorage.key(n),console.log(e),"hydro"===e.slice(0,5)&&(t=e.slice(6,e.length),a=moment(t).isoWeek(),r=moment(t).format("dddd"),a===yearWeek&&o.push({weekNumber:yearWeek,weekDay:r,date:t,value:localStorage.getItem(e)}));o.sort(function(e,t){return new Date(e.date)-new Date(t.date)}),o.forEach(function(e){chartX.push(e.weekDay),chartY.push(e.value)})}},createChart=function(){var e=document.getElementById("myChart").getContext("2d");new Chart(e,{type:"bar",data:{labels:chartX,datasets:[{label:"Week ".concat(yearWeek),data:chartY,backgroundColor:"#3DC3F3",borderColor:"#76C1FB",borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})},generateChart=function(){getData(),createChart()};feedLocalStorage();
"use strict";
//# sourceMappingURL=maps/main.min.js.map
