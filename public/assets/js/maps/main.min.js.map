{"version":3,"sources":["01-hydro.js","02-chart.js","nav.js"],"names":["navigator","serviceWorker","window","addEventListener","console","log","register","then","registration","scope","err","removeGlass","document","localStorage","addGlass","querySelector","myStorage","state","chartOnOff","theGlass","innerHTML","waveU","key","concat","Date","toISOString","slice","getItem","addToGlass","counter","waveD","classList","removeFromGlass","setItem","toggle","generateChart","chartCanvas","showChart","feedLocalStorage","length","db","i","weekNumber","weekDay","yearWeek","moment","isoWeek","getData","localStorageKey","chartData","weekNumberOfKeyDate","weekDayOfKeyDate","chartX","chartY","push","item","localStorageKeyDate","format","createChart","date","value","datasets","sort","a","b","backgroundColor","forEach","ctx","getElementById","getContext","Chart","type","data","labels","label","borderColor","borderWidth","options","scales","yAxes","ticks","beginAtZero"],"mappings":"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","file":"../main.min.js","sourcesContent":["'use strict';\r\n\r\n// service worker registration\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', function() {\r\n    navigator.serviceWorker.register('serviceworker.js').then(\r\n      function(registration) {\r\n        // Registration was successful\r\n        console.log(\r\n          'ServiceWorker registration successful with scope: ',\r\n          registration.scope,\r\n        );\r\n      },\r\n      function(err) {\r\n        // registration failed :(\r\n        console.log('ServiceWorker registration failed: ', err);\r\n      },\r\n    );\r\n  });\r\n}\r\n\r\n// hydro-app\r\n\r\nconst addGlass = document.querySelector('.interactions__btn-add--js');\r\nconst removeGlass = document.querySelector('.interactions__btn-remove--js');\r\nconst theGlass = document.querySelector('.water-glass__counter--js');\r\nconst chartOnOff = document.querySelector('.chart__btn--js');\r\nconst chartCanvas = document.querySelector('#myChart');\r\nconst waveD = document.querySelector('.wave-down--js');\r\nconst waveU = document.querySelector('.wave-up--js');\r\nlet key = `hydro-${new Date().toISOString().slice(0, 10)}`;\r\nlet counter;\r\n\r\n// Glass\r\nconst myStorage = () => {\r\n  const state = localStorage.getItem(key);\r\n  if (state !== null) {\r\n    theGlass.innerHTML = state;\r\n    return state;\r\n  } else {\r\n    localStorage.setItem(key, 0);\r\n    theGlass.innerHTML = 0;\r\n    return 0;\r\n  }\r\n};\r\n\r\nconst addToGlass = () => {\r\n  counter++;\r\n  localStorage.setItem(key, counter);\r\n  theGlass.innerHTML = counter;\r\n  waveD.classList.toggle('wave-down--animation');\r\n  waveU.classList.toggle('wave-up--animation');\r\n\r\n  generateChart();\r\n};\r\n\r\nconst removeFromGlass = () => {\r\n  counter--;\r\n  if (counter < 0) {\r\n    counter = 0;\r\n    localStorage.setItem(key, counter);\r\n    theGlass.innerHTML = counter;\r\n  } else {\r\n    localStorage.setItem(key, counter);\r\n    theGlass.innerHTML = counter;\r\n  }\r\n  waveD.classList.toggle('wave-down--animation');\r\n  waveU.classList.toggle('wave-up--animation');\r\n  generateChart();\r\n};\r\n\r\n// Chart\r\n\r\n// const showChart {\r\n//   generateChart();\r\n//   chartCanvas.classList.toggle('chart__canvas--active');\r\n// }\r\n\r\naddGlass.addEventListener('click', addToGlass);\r\nremoveGlass.addEventListener('click', removeFromGlass);\r\n// chartOnOff.addEventListener('click', showChart);\r\ncounter = myStorage();\r\n","const addGlass = document.querySelector('.interactions__btn-add--js');\nconst removeGlass = document.querySelector('.interactions__btn-remove--js');\nconst theGlass = document.querySelector('.water-glass__counter--js');\nconst chartOnOff = document.querySelector('.chart__btn--js');\nconst chartCanvas = document.querySelector('#myChart');\nconst waveD = document.querySelector('.wave-down--js');\nconst waveU = document.querySelector('.wave-up--js');\nlet key = `hydro-${new Date().toISOString().slice(0, 10)}`;\nlet counter;\n\n// Glass\nconst myStorage = () => {\n  const state = localStorage.getItem(key);\n  if (state !== null) {\n    theGlass.innerHTML = state;\n    return state;\n  } else {\n    localStorage.setItem(key, 0);\n    theGlass.innerHTML = 0;\n    return 0;\n  }\n};\n\nconst addToGlass = () => {\n  counter++;\n  localStorage.setItem(key, counter);\n  theGlass.innerHTML = counter;\n  waveD.classList.toggle('wave-down--animation');\n  waveU.classList.toggle('wave-up--animation');\n\n  generateChart();\n};\n\nconst removeFromGlass = () => {\n  counter--;\n  if (counter < 0) {\n    counter = 0;\n    localStorage.setItem(key, counter);\n    theGlass.innerHTML = counter;\n  } else {\n    localStorage.setItem(key, counter);\n    theGlass.innerHTML = counter;\n  }\n  waveD.classList.toggle('wave-down--animation');\n  waveU.classList.toggle('wave-up--animation');\n  generateChart();\n};\n\n// Chart\n\nconst showChart = () => {\n  generateChart();\n  chartCanvas.classList.toggle('chart__canvas--active');\n};\n\naddGlass.addEventListener('click', addToGlass);\nremoveGlass.addEventListener('click', removeFromGlass);\nchartOnOff.addEventListener('click', showChart);\ncounter = myStorage();\n\n// Charts\n//Temp ----\nconst feedLocalStorage = () => {\n  const db = [\n    ['hydro-2019-07-01', 5],\n    ['hydro-2019-07-02', 3],\n    ['hydro-2019-07-03', 8],\n    ['hydro-2019-07-04', 2],\n    ['hydro-2019-07-05', 7],\n    ['hydro-2019-07-06', 4],\n    ['hydro-2019-07-07', 1],\n    ['hydro-2019-07-08', 5],\n    ['hydro-2019-07-09', 3],\n    ['hydro-2019-07-10', 8],\n    ['hydro-2019-07-11', 2],\n    ['hydro-2019-07-12', 7],\n    ['hydro-2019-07-13', 4],\n    ['hydro-2019-07-14', 1],\n    ['hydro-2019-07-15', 5],\n    ['hydro-2019-07-16', 3],\n    ['hydro-2019-07-17', 8],\n    ['hydro-2019-07-18', 2],\n    ['hydro-2019-07-19', 7],\n    ['hydro-2019-07-20', 4],\n    ['hydro-2019-07-21', 1],\n  ];\n\n  for (let i = 0; i < db.length; i++) {\n    localStorage.setItem(db[i][0], db[i][1]);\n  }\n};\n\n// temp end -----\n\n// const hydroX = [];\n// const hydroY = [];\n\n// const allStorage = () => {\n//   let key;\n//   hydroX.length = 0;\n//   hydroY.length = 0;\n//   if (localStorage.length !== null) {\n//     for (let i = 0; i <= localStorage.length - 1; i++) {\n//       key = localStorage.key(i);\n//       if (key.slice(0, 5) === 'hydro') {\n//         let kDate = key.slice(6, key.length);\n//         console.log('d: ' + kDate);\n//         hydroX.push(kDate);\n\n//         let kValue = localStorage.getItem(key);\n//         console.log('v: ' + kValue);\n//         hydroY.push(kValue);\n//       }\n//     }\n//   }\n// };\n\n/*\nsprawdz jaki jest tk of y\ndla tego tk wyszukaj dane w localS\ndla tk-1 (przechowuj tk w pamieci) wyszukaj dane w localS, update chart\ndla tk+1 (przechowuj tk w pamieci) wyszukaj dane w localS, update chart\n*/\n\n// pobierz on click yearWeek - global\n\nconst chartX = [];\nconst chartY = [];\n\n// const chartData = [];\nlet yearWeek = moment().isoWeek();\n// console.log('1: ' + yearWeek);\n\nconst getData = () => {\n  const chartData = [];\n  let localStorageKey;\n  let localStorageKeyDate;\n  let weekNumberOfKeyDate;\n  let weekDayOfKeyDate;\n\n  chartX.length = 0;\n  chartY.length = 0;\n\n  // chartData.length = 0;\n\n  if (localStorage.length !== null) {\n    for (let i = 0; i <= localStorage.length - 1; i++) {\n      localStorageKey = localStorage.key(i);\n      console.log(localStorageKey);\n\n      if (localStorageKey.slice(0, 5) === 'hydro') {\n        localStorageKeyDate = localStorageKey.slice(6, localStorageKey.length);\n        weekNumberOfKeyDate = moment(localStorageKeyDate).isoWeek();\n        weekDayOfKeyDate = moment(localStorageKeyDate).format('dddd');\n\n        if (weekNumberOfKeyDate === yearWeek) {\n          chartData.push({\n            weekNumber: yearWeek,\n            weekDay: weekDayOfKeyDate,\n            date: localStorageKeyDate,\n            value: localStorage.getItem(localStorageKey),\n          });\n        }\n      }\n    }\n\n    // sort\n\n    chartData.sort((a, b) => {\n      let c = new Date(a.date);\n      let d = new Date(b.date);\n      return c - d;\n    });\n\n    // xAx = [];\n    // yAx = [];\n    // for (let i = 0; i < daneC.length; i++) {\n    //   xAx.push(daneC[i].weekDay);\n    //   yAx.push(daneC[i].value);\n    // }\n\n    chartData.forEach(item => {\n      chartX.push(item.weekDay);\n      chartY.push(item.value);\n    });\n\n    //  console.log(chData);\n\n    // return chartData;\n  }\n};\n\nconst createChart = () => {\n  // console.log('sss' + daneC[0].d);\n  // xAx = [];\n  // yAx = [];\n  // for (let i = 0; i < daneC.length; i++) {\n  //   xAx.push(daneC[i].weekDay);\n  //   yAx.push(daneC[i].value);\n  // }\n\n  const ctx = document.getElementById('myChart').getContext('2d');\n  const myChart = new Chart(ctx, {\n    type: 'bar',\n    data: {\n      labels: chartX,\n      datasets: [\n        {\n          label: `Week ${yearWeek}`,\n          data: chartY,\n          backgroundColor: '#3DC3F3',\n          borderColor: '#76C1FB',\n          borderWidth: 1,\n        },\n      ],\n    },\n    options: {\n      scales: {\n        yAxes: [\n          {\n            ticks: {\n              beginAtZero: true,\n            },\n          },\n        ],\n      },\n    },\n  });\n};\n\nconst generateChart = () => {\n  // allStorage();\n  getData();\n  createChart();\n};\n\nfeedLocalStorage();\n","// const menuIcon = document.querySelector(\".navigation__icon--js\");\n// const navMenu = document.querySelector(\".navigation__list--js\");\n\n// function toggleNavigation() {\n//   menuIcon.classList.toggle(\"hamburger--close\");\n//   navMenu.classList.toggle(\"navigation__list--active\");\n// }\n\n// menuIcon.addEventListener(\"click\", toggleNavigation);\n"]}